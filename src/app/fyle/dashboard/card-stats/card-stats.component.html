<div *ngIf="!isCCCStatsLoading" class="stats--ccc-cards-section">
  <ng-container *ngIf="cardDetails?.length > 0">
    <div class="stats--header stats--ccc-stats-header">CARD SPEND</div>

    <ng-container *ngIf="cardDetails.length > 1; else singleCard">
      <app-spent-cards
        [spentCards]="cardDetails"
        [homeCurrency]="homeCurrency$"
        [currencySymbol]="currencySymbol$"
        (addCardClick)="addCardClick.emit()"
      ></app-spent-cards>
    </ng-container>

    <ng-template #singleCard class="stats--single-ccc">
      <app-card-detail
        [cardDetail]="cardDetails[0]"
        s
        [homeCurrency]="homeCurrency$"
        [currencySymbol]="currencySymbol$"
      >
      </app-card-detail>
    </ng-template>
  </ng-container>

  <!-- Show add card empty state when the user doesn't have any cards, and has yodlee / personal cards enabled to allow adding cards -->
  <ng-container
    *ngIf="cardDetails?.length === 0 && ((isVisaRTFEnabled && isMastercardRTFEnabled) || isPersonalCardsEnabled)"
  >
    <div class="stats--header stats--ccc-stats-header">CARD SPEND</div>
    <div class="stats--ccc-zero-state">
      <app-add-card [showZeroStateMessage]="true" (addCardClick)="addCardClick.emit()"></app-add-card>
    </div>
  </ng-container>
</div>
