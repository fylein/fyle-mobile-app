<div class="route-visualizer">
  <ng-container *ngIf="loadDynamicMap">
    <google-map
      *ngIf="directionsResults$ | async as directionsResults"
      (mapClick)="mapClicked($event)"
      [height]="266"
      [options]="dynamicMapOptions"
    >
      <map-directions-renderer [directions]="directionsResults"></map-directions-renderer>
    </google-map>
  </ng-container>

  <ng-container *ngIf="!loadDynamicMap">
    <img *ngIf="routeMapImageUrl$ | async as routeMapImageUrl" [src]="routeMapImageUrl" />
  </ng-container>

  <ng-container *ngIf="showCurrentLocationMap && currentLocation">
    <ng-container *ngIf="loadDynamicMap">
      <google-map
        (mapClick)="mapClicked($event)"
        [height]="266"
        [center]="currentLocation"
        [options]="dynamicMapOptions"
      ></google-map>
    </ng-container>

    <ng-container *ngIf="!loadDynamicMap">
      <img [src]="currentLocationMapImageUrl" />
    </ng-container>
  </ng-container>
</div>
